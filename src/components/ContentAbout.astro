---
import { Code } from "astro:components";
import fs from "fs";
import path from "path";

const filePath = path.resolve("src/assets/cv/cv.go");
const code = fs.readFileSync(filePath, "utf8");
---

<Code code={code} lang="go" wrap={true} />

<style is:global>
  /* Custom styling for code block line numbers */
  pre.astro-code {
    @apply bg-transparent !important;
  }

  pre.astro-code code {
    @apply block;
    counter-reset: step;
    counter-increment: step 0;
  }

  pre.astro-code code .line {
    @apply relative;
  }

  pre.astro-code code .line::before {
    content: counter(step);
    counter-increment: step;
    @apply text-gray-600 pr-2;
  }
</style>
